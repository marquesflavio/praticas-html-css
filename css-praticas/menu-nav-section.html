<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .menu-fixed {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: #f5f5f5;
  z-index: 9999;
}

.menu-fixed li {
  display: inline-block;
  margin: 0 10px;
}

.menu-fixed li a {
  display: block;
  padding: 10px;
  color: #333;
  text-decoration: none;
}

.section-border {
  border-bottom: 2px solid red;
}

</style>
<body>
    <nav class="menu-fixed">
      <ul>
        <li><a href="#section1">Section 1</a></li>
        <li><a href="#section2">Section 2</a></li>
        <li><a href="#section3">Section 3</a></li>
      </ul>
    </nav>
  
    <section id="section1">
      <h2>Section 1</h2>    
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p> 
    </section>
  
    <section id="section2">
      <h2>Section 2</h2>  
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    </section>
  
    <section id="section3">
      <h2>Section 3</h2>
      
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    </section>
  </body>
  
<body>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var sections = document.querySelectorAll("section"); /*tag section*/
            var menuItems = document.querySelectorAll(".menu-fixed li"); /*menu nav*/
        
            window.addEventListener("scroll", function() {
            var currentScroll = window.scrollY;
        
            sections.forEach(function(section, index) {
                var sectionTop = section.offsetTop; /*O HTMLElement.offsetTop é um método apenas de leitura que retorna a medida, em pixels, da distância do elemento atual em relação ao topo do offsetParent.*/
                var sectionHeight = section.offsetHeight; /*A propriedade HTMLElement.offsetHeight é somente leitura e retorna um valor do tipo inteiro a altura de um elemento incluindo padding-top+padding-bottom+border-top+border-bottom.*/
        
                if (currentScroll >= sectionTop && currentScroll < sectionTop + sectionHeight) {
                menuItems[index].classList.add("section-border");
                } else {
                menuItems[index].classList.remove("section-border");
                }
            });
            });
        });

        /*Explicação do código:
        
        Essa função em JavaScript é um event listener que monitora o evento de rolagem da janela (scroll) e executa uma ação sempre que o evento ocorre.

        A função começa obtendo a posição atual de rolagem vertical da janela, armazenada na variável currentScroll usando window.scrollY. Em seguida, ela itera sobre cada seção definida no código e verifica se a posição de rolagem atual está dentro dos limites superiores e inferiores da seção.

        Para cada seção, o código obtém a posição superior (offsetTop) e a altura (offsetHeight) da seção. A posição superior é a distância em pixels do topo da página até o início da seção, enquanto a altura é a altura da própria seção.

        Em seguida, ele verifica se a posição de rolagem atual (currentScroll) está entre a posição superior da seção (sectionTop) e o limite inferior da seção (sectionTop + sectionHeight). Se essa condição for verdadeira, significa que o usuário está atualmente visualizando essa seção na janela e, portanto, adiciona uma classe CSS chamada "section-border" ao item de menu correspondente a essa seção usando menuItems[index].classList.add("section-border").

        Se a condição não for verdadeira, significa que o usuário não está visualizando essa seção e a classe CSS é removida do item de menu correspondente usando menuItems[index].classList.remove("section-border").

        Em resumo, essa função adiciona uma classe CSS específica aos itens de menu que correspondem às seções visíveis na janela durante a rolagem, permitindo a aplicação de estilos personalizados aos itens de menu ativos. Isso é útil, por exemplo, para destacar visualmente o item de menu da seção atualmente visível na página.*/
    </script>
</body>
</html>
  